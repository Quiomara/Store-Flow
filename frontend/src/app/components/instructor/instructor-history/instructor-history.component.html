<div class="instructor-history-container">
  <h1 class="text-center font-weight-bold mb-4">Historial de Préstamos</h1>
  
  <form [formGroup]="searchForm" class="search-form form-inline">
    <input type="text" formControlName="searchId" placeholder="ID del Préstamo" class="form-control mr-2" />   
    <input type="date" formControlName="searchFecha" placeholder="Fecha" class="form-control mr-2" />
    <select formControlName="searchEstado" class="form-control mr-2">
      <option value="">Seleccione un estado</option>
      <option *ngFor="let estado of estados" [value]="estado.est_nombre">{{ estado.est_nombre }}</option>
    </select>
  </form>
  
  <div class="user-table-container">
    <table mat-table [dataSource]="filteredPrestamos" class="mat-elevation-z8 table">
      <ng-container matColumnDef="idPrestamo">
        <th mat-header-cell *matHeaderCellDef class="header-cell"> ID del Préstamo </th>
        <td mat-cell *matCellDef="let prestamo"> {{ prestamo.idPrestamo }} </td>
      </ng-container>

      <ng-container matColumnDef="fechaHora">
        <th mat-header-cell *matHeaderCellDef class="header-cell"> Fecha Inicio </th>
        <td mat-cell *matCellDef="let prestamo"> {{ prestamo.fechaHora }} </td>
      </ng-container>

      <ng-container matColumnDef="fechaEntrega">
        <th mat-header-cell *matHeaderCellDef class="header-cell"> Fecha Fin </th>
        <td mat-cell *matCellDef="let prestamo"> {{ prestamo.fechaEntrega ? prestamo.fechaEntrega : '' }} </td>
      </ng-container>

      <ng-container matColumnDef="estado">
        <th mat-header-cell *matHeaderCellDef class="header-cell"> Estado </th>
        <td mat-cell *matCellDef="let prestamo"> {{ prestamo.estado }} </td>
      </ng-container>

      <ng-container matColumnDef="acciones">
        <th mat-header-cell *matHeaderCellDef class="header-cell acciones-header"> Detalles </th>
        <td mat-cell *matCellDef="let prestamo">
          <button mat-icon-button (click)="verDetalles(prestamo)" class="icon-btn">
            <mat-icon>visibility</mat-icon>
          </button>
          
          
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <div *ngIf="filteredPrestamos.length === 0" class="no-results text-center">
      {{ mensajeNoPrestamos }}
    </div>
  </div>
</div>









































